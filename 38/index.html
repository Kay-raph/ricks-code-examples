<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
  .pagescroll {
    --scroll: 0%;

    position: fixed;
    top: 0;
    left: 0;
    height: 8px;
    width: 100%;
    background:
      linear-gradient(
        to right,
        red var(--scroll),
        transparent 0
      );
    z-index: 100;
  }

  /* Global Styles, not needed */
  ::selection,body{color:#fff;background:#2ecc71}body,h1,h2,h3,h4,h5{font-weight:300}a,body{color:#fff}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;text-align:center}::selection{text-shadow:none}html{font-size:16px}body{font-size:1rem;font-family:'Open Sans',sans-serif;overflow-y:scroll}nav{margin-bottom:20px}nav li{padding:10px 20px;background:#27ae60}nav li:hover{background:#1d7f41}#nav2{width:400px}#nav3{width:650px}
       /* END Global Styles, not needed */
</style>
</head>
<body>
    <div class="pagescroll"></div>

    <div style="width: 300px; margin: 0 auto;">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi at dicta asperiores harum, provident dolore optio vero ducimus doloremque minima, dignissimos delectus voluptas aspernatur magni. Quia quasi ipsam blanditiis tenetur!
        <br><br>
      </div>

      <div class="back-to-article">
        <p>
            <a href="https://php.quicoto.com/page-scroll-indicator-javascript/">Back to the Article</a> | <a href="https://github.com/quicoto/ricks-code-examples/tree/master/38">Fork me on Github</a>
        </p>
      </div>

  <script>
      document.addEventListener("DOMContentLoaded", function(event) {
        /**
        * PAGE SCROLL EFFECT
        */
        const _timeoutIDs = {};

        function nonBlockingRepetiveFunctionCall(paramFunction, timeoutMs,  functionID = ``) {
          if (!_timeoutIDs[paramFunction + functionID]) {
            // add timeout to not block the GUI
            _timeoutIDs[paramFunction + functionID] = window.setTimeout(() => {
              paramFunction();
              window.clearTimeout(_timeoutIDs[paramFunction + functionID]);
              _timeoutIDs[paramFunction + functionID] = undefined;
            }, timeoutMs);
          }
        }

        const $pagescroll = document.querySelector(".pagescroll");

        window.addEventListener('scroll', () => {
          if ($pagescroll) {
            nonBlockingRepetiveFunctionCall(() => {
              const scrollTop = document.documentElement["scrollTop"] || document.body["scrollTop"];
              const scrollBottom = (document.documentElement["scrollHeight"] || document.body["scrollHeight"]) - document.documentElement.clientHeight;

              scrollPercent = scrollTop / scrollBottom * 100 + "%";

              $pagescroll.style.setProperty("--scroll", scrollPercent);
            }, 10);
          }
        });
      });
  </script>
</body>
</html>